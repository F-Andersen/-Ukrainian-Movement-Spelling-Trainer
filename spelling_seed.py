# spelling_seed.py
import random
from spelling_db import get_connection, count_questions

# 5 категорій
CATEGORIES = [
    "Орфографія",
    "Апостроф",
    "М'який знак",
    "Пунктуація",
    "Велика літера",
]


def seed_questions():
    """
    Заповнити БД 50 тестовими питаннями (по 10 на кожну категорію),
    якщо питань поки немає.
    """
    if count_questions() > 0:
        return  # вже щось є – не дублюємо

    questions = []

    # --------- Орфографія (10) ---------
    cat = "Орфографія"
    questions += [
        (
            "Оберіть слово з правильною орфографією.",
            cat,
            "інжинер", "інженер", "инженер", "інженєр", "B"
        ),
        (
            "Оберіть правильно написане слово.",
            cat,
            "перепрошую", "перепрошуюю", "пере прощую", "перепррощую", "A"
        ),
        (
            "Яке слово написано без помилок?",
            cat,
            "здійснити", "здійснить", "здійснені", "здийснити", "A"
        ),
        (
            "Позначте правильний варіант.",
            cat,
            "беззвучний", "беззвучній", "безвучний", "беззвучьний", "A"
        ),
        (
            "Оберіть слово, де немає орфографічної помилки.",
            cat,
            "класна кімната", "класна кіммната", "клаcна кімната", "класна кім ната", "A"
        ),
        (
            "Який прикметник написано правильно?",
            cat,
            "сріблястий", "сріблистий", "срібрястий", "срібрлистий", "A"
        ),
        (
            "Оберіть правильно написане слово.",
            cat,
            "виключення", "виняток", "вийняток", "вийняток", "B"
        ),
        (
            "Яке слово написано правильно?",
            cat,
            "позачерговий", "поза черговий", "позачерговій", "поза черговій", "A"
        ),
        (
            "Позначте слово без помилки.",
            cat,
            "запізнення", "запізненя", "запізнєня", "запізнєння", "A"
        ),
        (
            "Оберіть правильний варіант написання.",
            cat,
            "найкращий", "най кращий", "найкраший", "найкрасший", "A"
        ),
    ]

    # --------- Апостроф (10) ---------
    cat = "Апостроф"
    questions += [
        (
            "У якому слові апостроф ставиться правильно?",
            cat,
            "пів'яблука", "пів яблука", "пів’яблука", "півяблука", "C"
        ),
        (
            "Оберіть правильне написання слова.",
            cat,
            "бур'ян", "бур’ян", "бурян", "бур’янь", "B"
        ),
        (
            "Де апостроф ужито правильно?",
            cat,
            "об'їзд", "обїзд", "об їзд", "об-їзд", "A"
        ),
        (
            "Позначте слово з правильним апострофом.",
            cat,
            "зв'язок", "звязок", "з'вязок", "зв’ язок", "A"
        ),
        (
            "У якому слові апостроф зайвий?",
            cat,
            "м'ята", "м'яч", "м'ясо", "м'істо", "D"
        ),
        (
            "Оберіть правильний варіант.",
            cat,
            "під'їзд", "підїзд", "під їзд", "під-їзд", "A"
        ),
        (
            "Апостроф ставимо:",
            cat,
            "роз'яснення", "розяснення", "роз'яснєння", "роз’ яснення", "A"
        ),
        (
            "Де апостроф потрібен?",
            cat,
            "дитяча", "курячий", "буряк", "трьох'ярусний", "D"
        ),
        (
            "Оберіть правильно написане слово з апострофом.",
            cat,
            "пів'Європи", "півЄвропи", "пів’ європи", "пів-'Європи", "A"
        ),
        (
            "У якому слові апостроф НЕ пишеться?",
            cat,
            "мавпячий", "мавп'ячий", "бекон'яний", "верб'я", "A"
        ),
    ]

    # --------- М'який знак (10) ---------
    cat = "М'який знак"
    questions += [
        (
            "У якому слові м'який знак ужито правильно?",
            cat,
            "кінь", "кинь", "кін", "киньь", "A"
        ),
        (
            "Оберіть слово з правильним уживанням м'якого знака.",
            cat,
            "сільський", "сілський", "сільский", "сі льський", "A"
        ),
        (
            "Де м'який знак зайвий?",
            cat,
            "бур'янь", "кінь", "знання", "під'їзд", "A"
        ),
        (
            "Позначте слово без помилки.",
            cat,
            "молодь", "молод", "молодть", "молодьь", "A"
        ),
        (
            "Укажіть слово з м'яким знаком.",
            cat,
            "ніч", "нічь", "нич", "нішь", "A"
        ),
        (
            "Оберіть правильно написане слово.",
            cat,
            "пізній", "пізнійь", "пізниій", "пізн’ій", "A"
        ),
        (
            "Де м'який знак потрібен?",
            cat,
            "житя", "життє", "життя", "життяь", "C"
        ),
        (
            "У якому слові м'який знак пропущено?",
            cat,
            "кінцеий", "кінцевий", "кіньцевий", "кінцвий", "B"
        ),
        (
            "Оберіть правильний варіант.",
            cat,
            "гусячий", "гус'ячий", "гус’ячий", "гусячій", "A"
        ),
        (
            "Де м'який знак не ставимо?",
            cat,
            "камінь", "кінь", "стіл", "ніч", "C"
        ),
    ]

    # --------- Пунктуація (10) ---------
    cat = "Пунктуація"
    questions += [
        (
            "У якому реченні розділові знаки поставлено правильно?",
            cat,
            "Коли стемніло ми повернулися додому.",
            "Коли стемніло, ми повернулися додому.",
            "Коли, стемніло ми повернулися додому.",
            "Коли стемніло ми, повернулися додому.", "B"
        ),
        (
            "Оберіть варіант з правильною комою.",
            cat,
            "Я знаю що ти прийдеш.",
            "Я знаю, що ти прийдеш.",
            "Я, знаю що ти прийдеш.",
            "Я знаю що, ти прийдеш.", "B"
        ),
        (
            "Де кома НЕ потрібна?",
            cat,
            "Він ішов, не озираючись.",
            "Він ішов не озираючись.",
            "Він, ішов не озираючись.",
            "Він ішов не, озираючись.", "B"
        ),
        (
            "Вкажіть правильне розділове оформлення.",
            cat,
            "Я вірю у любов, і дружбу.",
            "Я вірю, у любов і дружбу.",
            "Я вірю у любов і дружбу.",
            "Я, вірю у любов і дружбу.", "C"
        ),
        (
            "Оберіть правильний варіант.",
            cat,
            "Хто рано встає, тому Бог дає.",
            "Хто рано встає тому, Бог дає.",
            "Хто, рано встає тому Бог дає.",
            "Хто рано, встає тому Бог дає.", "A"
        ),
        (
            "У якому реченні правильно поставлено двокрапку?",
            cat,
            "Пам'ятай: шануй батьків.",
            "Пам'ятай шануй: батьків.",
            "Пам'ятай, шануй: батьків.",
            "Пам'ятай шануй батьків:", "A"
        ),
        (
            "Де потрібно тире?",
            cat,
            "Київ столиця України.",
            "Київ – столиця України.",
            "Київ, столиця України.",
            "Київ столиця, України.", "B"
        ),
        (
            "Оберіть речення без помилки в пунктуації.",
            cat,
            "Я люблю читати книги, особливо, історичні.",
            "Я люблю читати книги, особливо історичні.",
            "Я люблю, читати книги особливо історичні.",
            "Я люблю читати, книги, особливо історичні.", "B"
        ),
        (
            "Укажіть правильний варіант.",
            cat,
            "Якби я знав я б допоміг.",
            "Якби я знав, я б допоміг.",
            "Якби, я знав я б допоміг.",
            "Якби я знав я б, допоміг.", "B"
        ),
        (
            "У якому реченні правильно оформлено однорідні члени?",
            cat,
            "На небі сяяли, зорі, місяць.",
            "На небі сяяли зорі, місяць.",
            "На небі сяяли зорі і, місяць.",
            "На небі сяяли зорі і місяць.", "D"
        ),
    ]

    # --------- Велика літера (10) ---------
    cat = "Велика літера"
    questions += [
        (
            "У якому випадку всі слова з великої літери написано правильно?",
            cat,
            "Київ, Дніпро, Україна",
            "київ, Дніпро, Україна",
            "Київ, дніпро, Україна",
            "Київ, Дніпро, україна", "A"
        ),
        (
            "Оберіть правильне написання власних назв.",
            cat,
            "Карпати, Чорне море",
            "карпати, Чорне море",
            "Карпати, Чорне Море",
            "карпати, чорне море", "A"
        ),
        (
            "У якому варіанті неправильно вжито велику літеру?",
            cat,
            "Президент України",
            "Київський Національний Університет",
            "український народ",
            "День Незалежності України", "B"
        ),
        (
            "Оберіть правильний варіант.",
            cat,
            "Європейський союз",
            "європейський Союз",
            "Європейський Союз",
            "європейський союз", "C"
        ),
        (
            "Укажіть варіант без помилки.",
            cat,
            "західна Європа",
            "Західна Європа",
            "Західна європа",
            "західна європа", "B"
        ),
        (
            "У якому варіанті назву свята передано правильно?",
            cat,
            "новий рік",
            "Новий рік",
            "Новий Рік",
            "новий Рік", "B"
        ),
        (
            "Оберіть правильне написання.",
            cat,
            "Річка Дніпро",
            "річка Дніпро",
            "Річка дніпро",
            "річка дніпро", "A"
        ),
        (
            "У якому прикладі всі власні назви оформлено правильно?",
            cat,
            "Франція, Париж, Ейфелева вежа",
            "франція, Париж, Ейфелева вежа",
            "Франція, Париж, Ейфелева Вежа",
            "Франція, париж, Ейфелева вежа", "A"
        ),
        (
            "Оберіть правильний варіант.",
            cat,
            "східна Україна",
            "Східна Україна",
            "Східна україна",
            "східна україна", "B"
        ),
        (
            "Укажіть випадок неправильного вживання великої літери.",
            cat,
            "Українська мова",
            "українська поезія",
            "Середземне море",
            "Карпатські гори", "D"
        ),
    ]

    random.shuffle(questions)

    with get_connection() as conn:
        cur = conn.cursor()
        cur.executemany("""
            INSERT INTO questions
            (text, option_a, option_b, option_c, option_d, correct_option, category)
            VALUES (?, ?, ?, ?, ?, ?, ?)
        """, [
            (q[0], q[2], q[3], q[4], q[5], q[6], q[1])  # трохи заплутався? ні, виправимо нижче
        ])
        conn.commit()
